# -*- coding: iso-8859-15 -*-
#import codecs

accents_changed = []
################################################################
# LaTeX accents replacement
unicode_to_latex = {
    u"\u00C0": "A",
    u"\u00C1": "A",
    u"\u00C2": "A",
    u"\u00C3": "A",
    u"\u00C4": "A",
    u"\u00C5": "AA",
    u"\u00C6": "AE",
    u"\u00C7": "C",
    u"\u00C8": "E",
    u"\u00C9": "E",
    u"\u00CA": "E",
    u"\u00CB": "E",
    u"\u00CC": "I",
    u"\u00CD": "I",
    u"\u00CE": "I",
    u"\u00CF": "I",
    u"\u00D0": "DH",
    u"\u00D1": "N",
    u"\u00D2": "O",
    u"\u00D3": "O",
    u"\u00D4": "O",
    u"\u00D5": "O",
    u"\u00D6": "O",
    u"\u00D8": "O",
    u"\u00D9": "U",
    u"\u00DA": "U",
    u"\u00DB": "U",
    u"\u00DC": "U",
    u"\u00DD": "Y",
    u"\u00DE": "TH",
    u"\u00DF": "ss",
    u"\u00E0": "a",
    u"\u00E1": "a",
    u"\u00E2": "a",
    u"\u00E3": "a",
    u"\u00E4": "a",
    u"\u00E5": "aa",
    u"\u00E6": "ae",
    u"\u00E7": "c",
    u"\u00E8": "e",
    u"\u00E9": "e",
    u"\u00EA": "e",
    u"\u00EB": "e",
    u"\u00EC": "i",
    u"\u00ED": "i",
    u"\u00EE": "i",
    u"\u00EF": "i",
    u"\u00F0": "dh",
    u"\u00F1": "n",
    u"\u00F2": "o",
    u"\u00F3": "o",
    u"\u00F4": "o",
    u"\u00F5": "o",
    u"\u00F6": "o",
    u"\u00F8": "o",
    u"\u00F9": "u",
    u"\u00FA": "u",
    u"\u00FB": "u",
    u"\u00FC": "u",
    u"\u00FD": "y",
    u"\u00FE": "th",
    u"\u00FF": "y",
    u"\u0100": "A",
    u"\u0101": "a",
    u"\u0102": "A",
    u"\u0103": "a",
    u"\u0104": "A",
    u"\u0105": "a",
    u"\u0106": "C",
    u"\u0107": "c",
    u"\u0108": "C",
    u"\u0109": "c",
    u"\u010A": "C",
    u"\u010B": "c",
    u"\u010C": "C",
    u"\u010D": "c",
    u"\u010E": "D",
    u"\u010F": "d",
    u"\u0110": "DJ",
    u"\u0111": "dj",
    u"\u0112": "E",
    u"\u0113": "e",
    u"\u0114": "E",
    u"\u0115": "e",
    u"\u0116": "E",
    u"\u0117": "e",
    u"\u0118": "E",
    u"\u0119": "e",
    u"\u011A": "E",
    u"\u011B": "e",
    u"\u011C": "G",
    u"\u011D": "g",
    u"\u011E": "G",
    u"\u011F": "g",
    u"\u0120": "G",
    u"\u0121": "g",
    u"\u0122": "G",
    u"\u0123": "g",
    u"\u0124": "H",
    u"\u0125": "h",
    u"\u0128": "I",
    u"\u0129": "i",
    u"\u012A": "I",
    u"\u012B": "i",
    u"\u012C": "I",
    u"\u012D": "i",
    u"\u012E": "I",
    u"\u012F": "i",
    u"\u0130": "I",
    u"\u0131": "i",
    u"\u0132": "IJ",
    u"\u0133": "ij",
    u"\u0134": "J",
    u"\u0135": "j",
    u"\u0136": "K",
    u"\u0137": "k",
    u"\u0139": "L",
    u"\u013A": "l",
    u"\u013B": "L",
    u"\u013C": "l",
    u"\u013D": "L",
    u"\u013E": "l",
    u"\u0141": "L",
    u"\u0142": "l",
    u"\u0143": "N",
    u"\u0144": "n",
    u"\u0145": "N",
    u"\u0146": "n",
    u"\u0147": "N",
    u"\u0148": "n",
    u"\u0149": "n",
    u"\u014A": "NG",
    u"\u014B": "ng",
    u"\u014C": "O",
    u"\u014D": "o",
    u"\u014E": "O",
    u"\u014F": "o",
    u"\u0150": "O",
    u"\u0151": "o",
    u"\u0152": "OE",
    u"\u0153": "oe",
    u"\u0154": "R",
    u"\u0155": "r",
    u"\u0156": "R",
    u"\u0157": "r",
    u"\u0158": "R",
    u"\u0159": "r",
    u"\u015A": "S",
    u"\u015B": "s",
    u"\u015C": "S",
    u"\u015D": "s",
    u"\u015E": "S",
    u"\u015F": "s",
    u"\u0160": "S",
    u"\u0161": "s",
    u"\u0162": "T",
    u"\u0163": "t",
    u"\u0164": "T",
    u"\u0165": "t",
    u"\u0168": "U",
    u"\u0169": "u",
    u"\u016A": "U",
    u"\u016B": "u",
    u"\u016C": "U",
    u"\u016D": "u",
    u"\u016E": "U",
    u"\u016F": "u",
    u"\u0170": "U",
    u"\u0171": "u",
    u"\u0172": "U",
    u"\u0173": "u",
    u"\u0174": "W",
    u"\u0175": "w",
    u"\u0176": "Y",
    u"\u0177": "y",
    u"\u0178": "Y",
    u"\u0179": "Z",
    u"\u017A": "z",
    u"\u017B": "Z",
    u"\u017C": "z",
    u"\u017D": "Z",
    u"\u017E": "z",
    u"\u01F5": "g",
    u"\u03CC": "o",
    u"\u2013": "-",
    u"\u207b": "-",
    u"\u2014": "--",
    u"\u2015": "---",
}
translation_table = dict([(ord(k), unicode(v)) for k, v in unicode_to_latex.items()])

def parse_accents_str(string):
	if string is not None and string is not "":
		string = string.translate(translation_table)
	return string

def parse_accents_record(record):
	for val in record:
		if val is not "ID" and len(record[val].strip()) > 0:
			tmp = parse_accents_str(record[val])
			if tmp != record[val]:
				print("    -> Converting bad characters in entry %s: "%record["ID"])
				print("         -- "+tmp.encode("utf-8"))
				accents_changed.append(record["ID"])
			record[val] = tmp
	return record
